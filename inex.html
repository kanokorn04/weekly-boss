<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Boss Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Kanit', 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1a1c2c 0%, #4a192c 100%);
            min-height: 100vh;
            color: #e2e8f0;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
        }
        input::placeholder {
            color: rgba(255, 255, 255, 0.2);
        }
        input:focus {
            background: rgba(255, 255, 255, 0.1);
            outline: none;
            border-bottom: 2px solid #f472b6;
        }
        .lang-btn-active {
            background-color: #f472b6;
            color: white;
        }
        .world-header {
            background: rgba(244, 114, 182, 0.2);
            font-weight: bold;
            color: #f472b6;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-2xl mx-auto">
        <!-- Language Switcher & Header -->
        <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-6">
            <div>
                <h1 id="title-text" class="text-3xl font-semibold text-pink-400 tracking-wide">Weekly Boss</h1>
            </div>
            
            <div class="flex items-center gap-4">
                <div class="glass-panel p-1 flex rounded-full overflow-hidden">
                    <button id="btn-en" onclick="setLanguage('en')" class="px-4 py-1 rounded-full text-sm transition-all">English</button>
                    <button id="btn-th" onclick="setLanguage('th')" class="px-4 py-1 rounded-full text-sm transition-all">ภาษาไทย</button>
                </div>
                <button onclick="confirmReset()" id="reset-btn-text" class="bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full font-medium transition-all shadow-lg active:scale-95 text-sm">
                    Reset
                </button>
            </div>
        </div>

        <!-- Table -->
        <div class="glass-panel overflow-hidden shadow-2xl">
            <table class="w-full text-left border-collapse table-fixed">
                <thead>
                    <tr class="bg-white/10">
                        <th id="th-boss-name" class="p-4 text-pink-300 font-semibold border-b border-white/10 w-1/3">Boss</th>
                        <th id="th-player-name" class="p-4 text-pink-300 font-semibold border-b border-white/10 w-2/3 text-center">Name</th>
                    </tr>
                </thead>
                <tbody id="boss-list">
                    <!-- Boss rows will be generated here -->
                </tbody>
            </table>
        </div>

        <p id="footer-note" class="mt-6 text-center text-xs text-gray-400 italic">
            * Data is automatically saved in your browser.
        </p>
    </div>

    <!-- Confirmation Modal -->
    <div id="modal" class="hidden fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50">
        <div class="glass-panel p-8 max-w-sm w-full text-center border border-white/20">
            <h3 id="modal-title" class="text-xl font-bold mb-4">Confirm Reset?</h3>
            <p id="modal-desc" class="mb-6 text-gray-300 text-sm">All entries in the "Name" column will be cleared. Boss list remains unchanged.</p>
            <div class="flex gap-4">
                <button onclick="closeModal()" id="modal-cancel" class="flex-1 bg-gray-600 py-2 rounded-lg hover:bg-gray-500 transition-colors">Cancel</button>
                <button onclick="resetNames()" id="modal-confirm" class="flex-1 bg-red-500 py-2 rounded-lg font-bold hover:bg-red-600 transition-colors">Confirm</button>
            </div>
        </div>
    </div>

    <script>
        // Synchronized Boss Data Structure
        const bossData = [
            { type: 'header', en: 'WORLD 8', th: 'แดน 8' },
            { mapEn: 'Pakua Stonehall', mapTh: 'โถงศิลาปากัว', nameEn: 'Viper', nameTh: 'ราชินีปีศาจอสรพิษ' },
            { mapEn: 'Pakua Stonehall', mapTh: 'โถงศิลาปากัว', nameEn: 'Arahan', nameTh: 'อราฮัน' },
            { mapEn: 'Abandoned Mine 3F', mapTh: 'เหมืองร้างชั้น 3', nameEn: 'Etherbolt', nameTh: 'อาวุโสพรรคสวรรค์ฟ้าแลบ' },
            { mapEn: 'Abandoned Mine 3F', mapTh: 'เหมืองร้างชั้น 3', nameEn: 'Terragod', nameTh: 'อาวุโสพรรคเจ้าแห่งแผ่นดิน' },
            { mapEn: 'Abandoned Mine 3F', mapTh: 'เหมืองร้างชั้น 3', nameEn: 'Crimsonmaur', nameTh: 'อาวุโสที่หนึ่ง ปีศาจแดง' },
            
            { type: 'header', en: 'WORLD 7', th: 'แดน 7' },
            { mapEn: 'Redmoon Gorge 2F', mapTh: 'ช่องเขาจันทราโลหิตชั้น2', nameEn: 'Ghost Wolf', nameTh: 'หมาป่าผีจันทราโลหิต' },
            { mapEn: 'Redmoon Gorge 3F', mapTh: 'ช่องเขาจันทราโลหิตชั้น3', nameEn: 'Azuremaur', nameTh: 'ภูติกระหายเลือดทรงพลัง' },
            { mapEn: 'Underground Jail', mapTh: 'คุกใต้ดิน', nameEn: 'Boss', nameTh: 'บอส' },

            { type: 'header', en: 'WORLD 4', th: 'แดน 4' },
            { mapEn: 'Sabuk Town', mapTh: 'เมืองซาบัค', nameEn: 'Azure Bull', nameTh: 'อาวุโสร่างทอง' },
            { mapEn: 'Bladehaven 1F', mapTh: 'คลังสรรพาวุธชั้น 1', nameEn: 'Thunderclap Zunith', nameTh: 'ปีศาจวัวอาวุโสอสนีบาต' },
            { mapEn: 'Bladehaven 2F', mapTh: 'คลังสรรพาวุธชั้น 2', nameEn: 'Divine Draconic Zunith', nameTh: 'ปีศาจวัวอาสุโสเมธีมังกร' },
            { mapEn: 'Dark Blood Monk', mapTh: 'นักบวชโลหิตมืด', nameEn: 'Blood Monk', nameTh: 'นักบวชโลหิตมืด' },

            { type: 'header', en: 'WORLD 2', th: 'แดน 2' },
            { mapEn: 'Seocheon Trading Post', mapTh: 'ตลาดซอซอน', nameEn: 'Jangryang', nameTh: 'เตียวเหลียง' },
            { mapEn: 'Twinway Maze', mapTh: 'ทางคตเคี้ยววิมรรคา', nameEn: 'Boss', nameTh: 'บอส' },
            { mapEn: 'Redmoon Mountain', mapTh: 'ภูเขาจันทราโลหิต', nameEn: 'Jungbo', nameTh: 'เตียวโป' },
            { mapEn: 'Bullface Fiend King', mapTh: 'ราชาภูตหน้ากระทิง', nameEn: 'Boss', nameTh: 'บอส' },

            { type: 'header', en: 'WORLD 5', th: 'แดน 5' },
            { mapEn: 'Nine Dragon Ice Fiend', mapTh: 'ทุ่งน้ำแข็งเก้ามังกร', nameEn: 'Illusion Beast', nameTh: 'สัตว์หลอนปีศาจขาว' },
            { mapEn: 'Demon\'s Ruin', mapTh: 'ซากโบราณของมาร', nameEn: 'Boss', nameTh: 'บอส' },
            { mapEn: 'Ethershade Spider Fiend', mapTh: 'ปีศาจแมงมุมเงามรณะ', nameEn: 'Boss', nameTh: 'บอส' },
            { mapEn: 'Illusion Temple', mapTh: 'วิหารภาพหลอน', nameEn: 'Defeat Overlord Celestial Fiend', nameTh: 'เจ้าเหนือหัวภูตผีสวรรค์' },

            { type: 'header', en: 'WORLD 3', th: 'แดน 3' },
            { mapEn: 'Nefariox Necropolis', mapTh: 'สุสานปีศาจวัว', nameEn: 'Uranka', nameTh: 'อูรุนก้า' },
            { mapEn: 'Viperbeast Plain', mapTh: 'ทุ่งหญ้าปีศาจอสรพิษ', nameEn: 'Kaya', nameTh: 'คาย่า' },
            { mapEn: 'Dusk Armado Lair', mapTh: 'รังอาร์มาโดสายัณห์', nameEn: 'Boss', nameTh: 'บอส' },
            { mapEn: 'Steelbone Specter', mapTh: 'ผีกระดูเหล็ก', nameEn: 'Boss', nameTh: 'บอส' },

            { type: 'header', en: 'WORLD 6', th: 'แดน 6' },
            { mapEn: 'Demoniac Mine', mapTh: 'เหมืองมาร', nameEn: 'Boss', nameTh: 'บอส' },
            { mapEn: 'Bicheon Labyrinth', mapTh: 'เขาวงกตบิชอน', nameEn: 'Hangga', nameTh: 'ฮังกา' },
            { mapEn: 'Bicheon Labyrinth', mapTh: 'เขาวงกตบิชอน', nameEn: 'Jo Gyu', nameTh: 'โจกิว' },
            { mapEn: 'Grand Centipedeus', mapTh: 'เทพตะขาบยักษ์ผู้ยิ่งใหญ่', nameEn: 'Boss', nameTh: 'บอส' }
        ];

        const i18n = {
            en: {
                title: "Weekly Boss Tracker",
                resetBtn: "Reset",
                colBoss: "Boss",
                colName: "Name",
                placeholder: "Enter name...",
                footer: "* Data is automatically saved in your browser.",
                modalTitle: "Confirm Reset?",
                modalDesc: "All entries in the 'Name' column will be cleared. Boss list remains unchanged.",
                modalCancel: "Cancel",
                modalConfirm: "Confirm"
            },
            th: {
                title: "ตารางบอสประจำสัปดาห์",
                resetBtn: "รีเซ็ต",
                colBoss: "บอส",
                colName: "ชื่อ",
                placeholder: "ระบุชื่อ...",
                footer: "* ข้อมูลจะถูกบันทึกโดยอัตโนมัติในเบราว์เซอร์ของคุณ",
                modalTitle: "ยืนยันการรีเซ็ต?",
                modalDesc: "ข้อมูลในช่องรายชื่อทั้งหมดจะถูกล้างออก แต่รายการบอสจะยังอยู่เหมือนเดิม",
                modalCancel: "ยกเลิก",
                modalConfirm: "ยืนยัน"
            }
        };

        let currentLang = 'en';
        const appId = "weekly-boss-v5-mir4-sync";
        const bossListContainer = document.getElementById('boss-list');
        const modal = document.getElementById('modal');

        function render() {
            const t = i18n[currentLang];
            
            document.getElementById('title-text').innerText = t.title;
            document.getElementById('reset-btn-text').innerText = t.resetBtn;
            document.getElementById('th-boss-name').innerText = t.colBoss;
            document.getElementById('th-player-name').innerText = t.colName;
            document.getElementById('footer-note').innerText = t.footer;
            document.getElementById('modal-title').innerText = t.modalTitle;
            document.getElementById('modal-desc').innerText = t.modalDesc;
            document.getElementById('modal-cancel').innerText = t.modalCancel;
            document.getElementById('modal-confirm').innerText = t.modalConfirm;

            document.getElementById('btn-en').className = `px-4 py-1 rounded-full text-sm transition-all ${currentLang === 'en' ? 'lang-btn-active' : ''}`;
            document.getElementById('btn-th').className = `px-4 py-1 rounded-full text-sm transition-all ${currentLang === 'th' ? 'lang-btn-active' : ''}`;

            bossListContainer.innerHTML = '';
            bossData.forEach((item, index) => {
                const tr = document.createElement('tr');
                
                if (item.type === 'header') {
                    tr.className = "world-header";
                    tr.innerHTML = `<td colspan="2" class="p-3 text-center text-sm tracking-widest uppercase">${currentLang === 'en' ? item.en : item.th}</td>`;
                } else {
                    const savedValue = localStorage.getItem(`${appId}-boss-${index}`) || '';
                    const mapName = currentLang === 'en' ? item.mapEn : item.mapTh;
                    const bossName = currentLang === 'en' ? item.nameEn : item.nameTh;

                    tr.className = "border-b border-white/5 hover:bg-white/5 transition-colors";
                    tr.innerHTML = `
                        <td class="p-3 text-gray-200 border-r border-white/5 overflow-hidden">
                            <span class="text-[10px] text-pink-400 block uppercase font-light leading-tight truncate">${mapName}</span>
                            <span class="font-medium text-sm leading-tight block truncate">${bossName}</span>
                        </td>
                        <td class="p-1">
                            <input 
                                type="text" 
                                value="${savedValue}"
                                oninput="saveData(${index}, this.value)"
                                placeholder="${t.placeholder}"
                                class="w-full bg-transparent p-2 border-b border-transparent transition-all text-white text-center text-sm focus:border-pink-500"
                            >
                        </td>
                    `;
                }
                bossListContainer.appendChild(tr);
            });
        }

        function setLanguage(lang) {
            currentLang = lang;
            render();
        }

        function saveData(index, value) {
            localStorage.setItem(`${appId}-boss-${index}`, value);
        }

        function confirmReset() {
            modal.classList.remove('hidden');
        }

        function closeModal() {
            modal.classList.add('hidden');
        }

        function resetNames() {
            bossData.forEach((item, index) => {
                if (item.type !== 'header') {
                    localStorage.removeItem(`${appId}-boss-${index}`);
                }
            });
            render();
            closeModal();
        }

        window.onload = render;
    </script>
</body>
</html>
